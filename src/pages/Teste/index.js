import React, { useState } from 'react';
import { Button, StyleSheet, Text, View, TouchableOpacity, Image, TextInput, ScrollView, useColorScheme } from 'react-native';
import { useNavigation } from '@react-navigation/native';


//select
//import { collection, getDocs, getFirestore } from "firebase/firestore";
//upload de imagem
//import { getStorage, ref, uploadString } from "firebase/storage";
//import * as ImagePicker from 'expo-image-picker';
//import * as FileSystem from 'expo-file-system';
//import { encode } from 'base-64';
//donwload
import { getStorage, ref, getDownloadURL } from 'firebase/storage';
//import  ImageUtils from 'expo-image-utils';


export default function Teste() {

    const navigation = useNavigation();
    const [cidade, setCidade] = useState();
    const [cep, setCep] = useState();
    const [nome, setNome] = useState();

    const [imageUrl, setImageUrl] = useState(null);
    const [imageUri, setImageUri] = useState(null);
    if (typeof atob === 'undefined') {
        global.atob = encode;
    }
    const chooseImageFromGallery = async () => {
        try {
            const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();

            if (status !== 'granted') {
                console.error('A permissão para acessar a galeria foi negada');
                return;
            }

            const result = await ImagePicker.launchImageLibraryAsync();

            if (!result.canceled) {
                const localUri = result.assets[0].uri;
                //Lê o arquivo da imagem como uma string base64 diretamente
                const imageFile = await FileSystem.readAsStringAsync(localUri, {
                    encoding: FileSystem.EncodingType.Base64,
                });
                //Armazena a string base64 na variável de estado imageUrl
                setImageUrl(`data:image/jpeg;base64,${imageFile}`);
                // console.log(imageUrl)
            }
        } catch (error) {
            console.error('Erro ao escolher a imagem:', error);
        }
    };
    const uploadImageToFirebase = async () => {
        try {

            const storage = getStorage();
            const storageRef = ref(storage, 'caminho/' + 'dados');
            uploadString(storageRef, imageUrl).then((snapshot) => {
                console.log('Uploaded a raw string!');
            });
        }
        catch (error) {
            console.error('Erro ao enviar o arquivo:', error);
        }
    };
    async function validarLogin() {
        const db = getFirestore();
        const querySnapshot = await getDocs(collection(db, "users"));
        const dataArray = [];

        querySnapshot.forEach((doc) => {
            const userData = doc.data();
            dataArray.push({ id: doc.id, ...userData });

            setNome(userData.nome);
            setCep(userData.cep);
            setCidade(userData.cidade);
        });

        console.log(dataArray);
    }
    async function imagem() {
        try {
            const storage = getStorage();
            const imageRef = ref(storage, 'caminho/dados');
            const url = await getDownloadURL(imageRef);
            const response = await fetch(url);
            const data = await response.text();
            const numericArray = data.split(",");
            const asciiString = numericArray.map((numericValue) => String.fromCharCode(parseInt(numericValue))).join("");
            setImageUri(asciiString)
        } catch (error) {
            console.error('Erro ao recuperar a URL da imagem:', error);
        }
    }

    function Teste() {
        const numericString = "100,97,116,97,58,105,109,97,103,101,47,106,112,101,103,59,98,97,115,101,54,52,44,47,57,106,47,52,81,66,89,82,88,104,112,90,103,65,65,84,85,48,65,75,103,65,65,65,65,103,65,66,65,69,65,65,65,81,65,65,65,65,66,65,65,65,65,52,81,69,66,65,65,81,65,65,65,65,66,65,65,65,65,52,89,100,112,65,65,81,65,65,65,65,66,65,65,65,65,80,103,69,83,65,65,81,65,65,65,65,66,65,65,65,65,65,65,65,65,65,65,65,65,65,90,73,73,65,65,77,65,65,65,65,66,65,65,65,65,65,65,65,65,65,65,68,47,52,65,65,81,83,107,90,74,82,103,65,66,65,81,65,65,65,81,65,66,65,65,68,47,50,119,66,68,65,67,103,99,72,105,77,101,71,83,103,106,73,83,77,116,75,121,103,119,80,71,82,66,80,68,99,51,80,72,116,89,88,85,108,107,107,89,67,90,108,111,43,65,106,73,113,103,116,79,98,68,111,75,114,97,114,89,113,77,121,80,47,76,50,117,55,49,47,47,47,47,109,56,72,47,47,47,47,54,47,43,98,57,47,47,106,47,50,119,66,68,65,83,115,116,76,84,119,49,80,72,90,66,81,88,98,52,112,89,121,108,43,80,106,52,43,80,106,52,43,80,106,52,43,80,106,52,43,80,106,52,43,80,106,52,43,80,106,52,43,80,106,52,43,80,106,52,43,80,106,52,43,80,106,52,43,80,106,52,43,80,106,52,43,80,106,52,43,80,106,52,43,80,106,52,43,80,106,47,119,65,65,82,67,65,68,104,65,79,69,68,65,83,73,65,65,104,69,66,65,120,69,66,47,56,81,65,71,81,65,65,65,103,77,66,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,77,66,66,65,85,67,47,56,81,65,79,104,65,65,65,103,69,67,65,81,99,76,66,65,73,66,65,119,85,65,65,65,65,65,65,65,69,67,65,119,81,82,69,104,81,104,77,86,70,120,107,82,77,121,77,122,82,66,85,108,78,104,99,111,71,120,66,83,75,104,119,85,75,83,73,120,86,68,48,87,75,67,111,117,72,120,47,56,81,65,71,65,69,65,65,119,69,66,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,69,67,65,119,84,47,120,65,65,102,69,81,69,66,65,65,73,67,65,119,69,66,65,81,65,65,65,65,65,65,65,65,65,65,65,81,73,82,69,105,69,68,77,86,69,121,81,82,80,47,50,103,65,77,65,119,69,65,65,104,69,68,69,81,65,47,65,78,107,65,65,65,68,105,112,86,104,83,106,106,79,83,105,105,116,100,88,113,112,116,119,112,89,79,88,97,43,120,71,100,75,85,112,121,121,112,78,116,118,116,90,112,106,104,98,55,84,99,108,43,112,57,82,105,116,70,79,68,102,109,57,65,109,86,47,87,101,114,74,87,53,70,85,68,83,89,89,119,116,48,47,80,76,106,120,80,119,105,77,56,117,80,70,102,66,67,83,66,56,90,56,77,47,80,76,106,120,88,119,81,90,53,99,101,75,43,67,69,65,80,106,80,104,110,53,53,99,101,75,43,67,68,80,76,106,120,88,119,81,103,65,52,122,52,90,43,101,88,72,105,118,103,103,122,121,52,56,86,56,69,73,65,79,77,43,72,111,55,80,76,106,120,88,119,81,90,53,99,101,75,43,67,69,103,72,71,102,70,97,79,122,121,52,56,86,56,69,71,101,88,72,105,118,103,104,73,66,120,110,119,57,72,90,53,99,101,75,43,67,68,80,76,106,120,88,119,81,107,65,52,122,52,101,106,56,56,117,80,70,102,66,66,110,116,122,52,118,47,65,73,111,81,65,117,77,43,72,113,76,85,98,43,117,117,54,57,54,72,81,43,112,76,86,85,112,52,101,99,87,90,52,67,117,71,78,72,71,78,117,108,88,112,49,108,57,107,107,47,76,116,71,71,67,109,48,56,85,50,109,117,49,70,54,49,118,116,79,82,88,101,54,88,47,74,110,108,104,114,48,105,52,102,71,103,65,65,90,111,65,65,65,65,70,79,43,117,101,84,88,74,119,102,51,80,87,57,105,76,78,87,111,113,86,75,85,51,113,83,77,87,85,110,79,84,108,76,83,50,56,87,97,89,89,55,117,121,113,65,65,103,51,84,112,74,65,65,66,54,65,65,65,75,48,65,68,116,79,108,84,113,80,86,84,109,57,48,87,66,54,99,103,77,53,67,116,52,86,84,43,114,74,122,97,116,52,85,43,65,116,119,121,103,71,53,116,88,56,75,88,65,77,50,114,43,70,76,103,71,52,90,81,68,99,50,114,43,70,76,103,71,98,86,47,67,108,119,68,99,77,111,66,117,98,86,118,67,108,119,73,100,67,116,52,86,84,43,114,68,99,77,115,68,116,48,113,105,49,48,53,114,102,70,110,71,112,43,101,119,70,65,65,65,68,65,65,83,66,111,74,65,66,66,100,115,98,110,66,113,106,78,54,80,52,118,90,53,71,105,89,74,115,87,116,88,108,113,67,107,43,99,116,68,51,109,87,99,47,114,76,121,89,54,55,79,65,65,77,50,97,106,57,84,110,104,67,70,78,100,114,120,90,110,70,118,54,106,76,71,53,119,50,82,83,75,104,48,89,84,87,73,48,65,65,67,106,48,65,65,117,87,100,112,121,118,43,83,112,122,79,120,98,82,87,121,100,110,111,109,104,98,86,75,43,109,75,119,106,51,109,88,54,86,104,83,104,122,56,90,118,122,49,70,108,74,74,89,76,81,107,83,89,51,79,48,116,117,89,119,106,66,89,81,105,111,55,107,100,72,77,54,107,73,99,43,99,89,55,51,103,75,100,53,98,114,47,99,52,74,115,110,86,111,48,101,66,87,122,54,51,55,55,47,113,119,122,43,104,116,108,47,85,79,78,43,68,86,87,81,75,117,102,48,78,115,117,65,90,47,81,50,121,52,66,120,111,52,49,97,65,113,53,47,81,50,121,52,66,110,57,68,98,76,103,72,71,106,106,86,111,67,114,110,57,68,98,76,103,84,110,49,118,51,110,47,86,104,120,111,52,51,52,115,107,83,106,71,83,119,107,107,49,53,105,70,101,50,55,47,51,79,75,97,71,119,113,48,54,110,77,110,71,87,53,104,113,119,97,115,74,113,87,78,71,101,113,79,81,47,43,107,111,49,55,83,112,82,48,56,54,79,49,100,104,114,103,79,90,50,72,77,55,71,67,66,101,118,76,80,68,71,112,83,87,43,75,47,82,82,78,90,100,116,56,98,76,79,103,66,73,68,85,67,53,57,79,110,104,86,108,66,54,112,76,69,112,106,114,86,53,78,122,84,102,110,103,84,108,54,76,75,98,106,88,65,65,77,88,75,120,55,55,114,108,84,50,43,69,73,72,51,118,87,54,109,57,102,67,69,72,82,80,85,97,83,65,65,74,72,115,57,71,50,116,72,108,54,121,105,43,97,116,77,106,89,83,83,87,67,48,74,70,98,54,102,84,121,75,71,86,50,122,101,80,115,87,106,72,79,55,114,80,76,50,105,99,111,119,105,53,83,101,67,87,116,109,90,88,118,112,122,98,86,80,55,73,55,101,49,107,51,57,102,76,113,79,109,110,57,115,78,102,109,121,111,80,72,72,43,49,101,79,80,56,65,97,72,112,101,76,48,118,97,119,65,68,84,98,84,81,65,65,70,115,57,65,65,65,78,110,111,65,83,65,98,71,107,65,83,65,98,80,83,65,72,85,75,69,113,56,56,73,54,69,116,98,102,89,88,80,57,79,112,52,99,43,101,80,115,75,53,83,74,117,85,110,116,87,111,51,108,83,107,56,74,80,76,106,115,98,48,109,108,84,113,82,113,119,85,52,80,70,77,121,54,57,118,75,104,76,66,54,85,57,84,82,78,114,87,53,71,113,115,88,57,107,116,68,47,65,79,83,98,74,101,52,110,76,67,87,98,106,87,77,117,57,111,99,108,85,121,111,56,50,88,52,90,113,67,98,113,110,121,108,118,74,100,113,48,111,110,71,54,114,80,68,76,86,90,66,73,65,97,79,107,72,100,72,112,113,102,114,88,121,99,72,86,76,112,113,102,113,88,121,66,88,48,50,103,65,68,70,121,77,101,56,54,51,85,51,114,52,69,106,55,122,114,100,84,102,43,104,66,118,76,48,51,107,54,65,65,100,48,108,106,86,103,116,115,108,56,105,50,114,84,90,104,70,81,104,71,75,49,74,89,66,85,108,107,85,53,84,55,113,120,79,104,70,52,56,76,87,112,117,119,47,74,105,53,53,51,87,84,114,101,76,49,118,116,73,74,65,49,50,54,100,65,67,81,70,115,57,73,65,54,85,87,50,107,108,105,51,115,76,116,71,119,48,89,49,110,47,50,111,88,73,114,90,106,55,85,85,115,88,103,116,76,50,73,89,114,101,115,57,86,75,88,117,115,68,87,104,84,104,84,87,69,73,113,75,56,106,111,88,74,110,102,76,56,106,72,100,116,87,83,48,48,112,101,121,120,70,117,76,84,119,97,97,102,109,98,104,69,111,120,109,115,74,82,84,88,109,72,73,84,121,47,89,120,65,78,67,116,89,120,108,112,112,80,74,101,122,115,75,85,52,83,104,76,74,107,115,71,117,120,106,50,49,120,121,109,88,112,111,87,67,83,116,47,78,116,52,108,107,122,76,87,52,53,71,84,85,116,77,72,115,55,67,55,110,86,72,74,120,53,82,69,49,104,110,106,100,117,76,53,76,78,90,98,85,49,104,120,77,119,115,51,86,122,121,122,85,89,97,73,114,98,50,108,89,113,78,102,72,76,74,50,49,55,97,101,88,98,119,107,57,101,71,68,71,108,88,54,101,56,98,100,43,85,109,87,105,97,119,121,109,114,87,76,85,106,107,86,74,82,50,78,111,53,71,51,97,119,117,113,109,47,57,67,106,87,79,109,100,119,72,86,76,112,113,102,113,88,121,99,110,86,76,112,111,101,112,102,73,67,116,111,65,65,120,99,106,73,118,79,116,49,78,47,54,69,106,55,118,114,86,84,102,43,104,74,101,51,86,106,79,111,103,90,81,87,78,101,110,54,108,56,110,65,50,51,54,120,84,57,83,70,115,55,79,109,117,86,55,55,113,115,116,54,43,83,119,86,55,55,113,122,51,111,108,122,89,102,113,77,118,65,107,67,81,50,54,57,73,74,85,87,50,107,108,105,50,71,66,100,115,97,79,117,113,49,53,82,68,90,90,88,106,78,110,87,49,118,71,104,72,70,54,90,118,87,120,52,67,98,105,118,71,106,72,98,74,54,107,68,108,55,121,112,115,112,82,105,115,90,78,74,101,89,105,86,53,82,87,106,75,98,51,73,122,54,108,83,86,83,87,77,51,105,47,103,53,70,116,116,80,68,80,54,48,108,101,48,88,50,116,98,48,79,104,79,77,49,106,67,83,97,56,109,89,53,77,90,83,104,76,75,105,50,110,116,81,120,102,68,80,52,50,82,86,101,106,71,116,68,66,54,71,116,84,50,67,55,97,53,86,90,90,77,116,69,49,43,83,121,68,71,121,52,49,106,84,104,75,110,78,120,107,115,71,106,107,48,98,50,106,108,48,43,85,88,79,106,56,71,99,78,48,52,90,99,112,115,65,65,70,75,97,72,48,55,111,112,43,114,57,70,115,112,47,84,117,106,110,118,76,104,78,57,117,88,80,57,86,108,88,118,87,53,43,51,119,73,76,70,57,49,113,87,53,102,66,88,78,74,54,98,52,43,111,68,113,108,48,48,80,85,118,107,53,79,113,88,83,119,57,83,43,82,110,87,48,65,65,89,117,82,108,88,102,87,97,109,57,102,65,107,102,100,100,90,113,98,47,119,66,67,104,87,117,51,71,100,82,65,121,51,54,120,84,51,110,65,121,51,54,120,84,51,105,50,77,118,86,97,112,88,118,117,114,118,101,105,119,86,55,51,113,55,51,111,100,99,109,72,54,106,79,65,65,73,50,55,82,104,106,111,87,115,49,54,99,70,67,69,89,114,115,87,66,109,85,70,106,88,112,43,111,49,83,115,88,80,53,114,54,105,74,83,85,89,117,84,49,74,89,109,84,85,109,54,107,51,79,87,116,109,104,101,83,119,116,53,101,98,83,77,48,76,84,56,77,54,50,67,67,81,69,51,81,66,74,65,119,108,78,120,107,109,110,103,49,113,78,97,108,85,86,83,110,71,97,55,85,90,66,102,43,110,118,71,108,75,79,121,81,52,120,56,115,54,50,116,116,74,114,66,109,78,85,104,107,86,74,81,50,80,65,50,84,77,118,86,104,99,121,56,48,109,78,72,104,118,101,108,99,65,65,98,111,88,47,112,51,82,122,51,108,119,112,47,84,117,90,80,101,88,66,86,121,101,84,57,86,108,51,51,87,90,98,107,86,121,120,102,100,90,108,117,82,88,78,73,54,77,102,122,65,100,85,117,108,104,54,108,56,110,74,49,83,54,87,72,113,88,121,77,86,116,65,65,71,84,107,90,100,49,49,109,112,118,56,65,48,75,71,51,88,87,97,109,47,119,68,81,111,122,114,117,120,47,77,65,121,51,54,120,84,51,105,120,108,118,48,57,80,101,73,90,101,113,49,83,118,101,57,88,101,57,70,103,114,51,118,86,51,118,82,112,102,84,106,119,47,85,90,119,69,103,90,98,100,122,117,51,101,70,101,110,118,78,85,120,48,56,71,109,116,97,101,74,114,120,107,112,82,85,108,113,97,120,76,119,114,109,56,56,55,108,73,118,86,106,98,118,121,97,90,110,71,118,79,75,110,66,120,101,112,114,65,121,112,82,99,74,79,77,116,97,89,90,75,56,78,54,48,53,65,65,74,98,103,65,65,90,65,118,102,84,49,47,106,109,57,114,75,74,113,48,75,102,74,85,111,120,55,101,51,101,86,71,80,109,117,115,100,71,71,90,101,118,71,53,108,53,74,71,109,90,70,87,101,88,86,108,76,97,57,65,54,106,119,122,118,98,103,103,107,66,117,104,101,43,110,99,121,101,56,117,70,80,54,100,122,74,55,121,52,68,107,56,110,54,114,77,118,117,115,121,51,73,114,108,105,43,54,122,76,99,105,117,88,72,82,106,43,89,103,54,112,100,76,68,49,76,53,73,79,113,88,83,119,57,83,43,82,110,87,121,65,65,90,117,78,109,88,88,87,90,55,47,48,74,72,88,88,87,90,55,47,48,75,77,98,55,100,50,80,53,103,79,54,72,84,48,57,53,119,100,48,100,70,97,110,54,108,56,105,104,53,101,109,113,86,55,51,113,55,51,111,115,67,76,118,113,56,116,54,78,115,118,84,105,119,47,85,90,119,72,81,89,71,68,117,50,53,76,49,108,85,120,104,121,98,49,114,83,116,120,84,119,74,106,74,119,107,112,82,101,68,81,53,100,86,71,101,80,75,97,97,112,88,117,98,102,108,86,108,82,48,84,88,53,71,85,97,115,97,115,77,86,114,55,86,115,71,71,51,86,106,107,108,117,78,89,55,105,52,118,66,114,66,114,97,81,97,49,83,108,67,111,115,74,82,84,69,79,120,103,57,85,112,76,56,107,88,71,117,105,101,97,88,50,111,66,103,88,108,89,120,87,117,99,110,117,72,48,54,78,79,108,122,89,54,100,118,97,69,120,111,118,109,120,110,111,105,49,116,115,106,47,74,85,53,51,89,116,104,98,65,52,113,86,73,48,111,90,85,110,111,43,83,47,84,110,116,117,86,75,118,75,118,74,48,115,70,122,112,97,69,90,111,121,114,85,108,86,109,53,121,47,43,72,66,79,51,86,104,106,120,105,65,65,66,113,88,118,112,47,82,122,51,108,119,113,102,84,43,105,110,54,118,48,87,121,110,74,53,80,49,87,90,101,57,90,108,117,82,88,72,51,110,87,112,43,51,119,73,75,106,111,120,47,77,66,49,83,54,87,72,113,88,121,99,110,86,76,112,89,101,112,102,73,122,118,112,115,103,65,69,79,78,109,88,88,87,90,55,49,56,67,120,116,122,49,109,102,116,56,67,122,67,43,51,100,106,43,89,103,55,112,54,75,107,102,85,118,107,103,78,87,107,81,114,86,70,88,75,120,116,53,101,51,121,77,84,84,105,110,116,73,110,72,76,104,75,79,49,89,71,57,55,106,105,108,49,87,89,66,49,103,71,66,122,117,51,98,107,68,111,103,66,115,82,108,75,69,115,113,76,119,90,99,112,88,85,90,97,74,47,97,47,119,65,70,77,103,113,90,87,73,121,119,109,88,116,113,112,52,111,68,76,106,79,85,79,98,74,111,89,114,113,115,118,53,74,43,120,112,122,106,75,43,71,47,120,111,65,90,55,117,113,122,88,79,83,51,73,86,79,112,79,102,79,109,50,72,79,67,101,71,47,49,100,113,51,86,79,110,111,106,57,48,116,105,75,78,83,112,75,114,76,75,109,47,56,65,48,99,107,69,51,76,98,98,72,120,122,69,65,65,65,115,69,69,103,85,70,43,119,87,70,66,43,99,105,48,74,116,89,53,70,118,66,98,86,105,79,76,99,87,100,51,108,87,86,100,100,90,110,118,56,65,48,74,79,54,115,115,113,114,79,87,49,115,52,71,54,53,79,103,100,85,117,108,104,54,108,56,110,74,49,83,54,97,72,113,88,121,77,114,54,98,73,65,66,76,106,90,49,122,49,105,102,116,56,67,120,116,122,49,105,102,116,56,67,122,110,118,116,50,89,47,109,65,107,67,82,71,117,87,48,115,113,107,108,50,120,48,68,105,108,81,110,107,84,48,54,110,114,76,112,116,104,100,120,121,53,122,86,85,114,105,110,107,49,71,43,121,87,107,85,97,69,52,113,99,99,72,113,75,108,83,106,75,72,109,116,113,73,122,120,49,51,71,109,71,101,53,113,108,65,100,69,71,98,86,121,66,48,81,65,99,107,72,90,65,122,99,69,72,82,65,49,79,81,74,73,71,97,65,74,73,72,65,66,108,67,108,121,116,86,82,55,78,98,51,66,83,111,84,113,118,55,86,111,50,118,85,97,78,71,108,71,108,68,74,106,55,118,97,88,73,121,56,110,107,109,77,49,80,90,103,117,52,113,99,110,82,108,76,116,119,48,98,120,104,110,51,49,88,76,110,121,97,49,82,49,55,121,51,80,104,106,121,113,113,81,83,65,82,49,111,79,113,88,84,85,47,85,118,107,53,79,54,88,84,85,47,85,118,107,111,114,54,98,65,65,66,76,105,85,114,112,89,86,57,54,70,70,109,55,106,111,106,76,50,75,53,122,53,57,86,49,89,88,101,73,74,65,107,107,48,70,105,104,86,47,106,76,50,89,107,65,109,87,113,110,75,83,57,76,119,70,97,110,86,108,72,81,57,75,72,82,113,82,108,113,102,69,51,109,99,114,67,52,50,67,86,75,69,116,99,85,99,79,51,103,57,87,75,57,120,119,70,99,90,83,109,86,104,71,98,82,55,122,68,78,89,57,53,106,119,70,119,104,56,56,108,102,78,89,57,53,104,109,107,101,43,121,119,65,99,73,102,80,76,54,114,90,110,72,118,77,77,122,106,51,50,87,81,68,106,66,47,112,108,57,86,99,121,104,51,53,66,109,77,79,57,76,56,70,111,65,52,119,102,54,90,102,86,90,87,86,76,98,74,55,50,77,106,98,85,111,54,111,76,51,48,106,81,72,113,70,99,56,114,47,81,65,117,112,88,112,48,43,100,74,89,55,79,48,112,49,114,121,85,116,69,80,116,87,51,116,67,50,81,56,99,77,115,106,114,113,53,121,69,52,85,51,57,51,97,57,104,110,107,103,84,118,98,113,120,120,109,77,49,69,65,65,70,71,103,98,98,76,75,117,75,97,56,56,82,90,90,115,73,89,49,110,76,115,105,105,107,53,51,87,78,97,73,65,65,110,71,53,113,81,121,52,79,79,48,111,52,89,80,66,54,122,81,75,57,101,108,47,78,101,53,110,53,77,100,57,116,80,72,108,114,111,103,107,67,84,66,115,67,81,74,69,108,65,72,81,65,78,111,84,97,49,78,111,110,108,74,57,53,103,81,80,100,76,112,80,75,49,79,57,43,65,53,97,112,116,47,66,121,81,80,108,102,111,49,72,88,76,49,78,113,52,66,121,57,84,97,117,66,119,81,80,108,102,113,117,77,43,79,56,52,113,98,86,119,73,122,109,114,116,88,65,52,90,121,120,56,113,102,72,72,52,90,110,78,88,118,76,103,99,117,53,114,100,47,56,65,67,79,71,99,115,79,86,86,77,99,102,106,116,51,70,90,47,119,65,51,119,81,117,86,83,99,117,100,79,84,57,119,90,121,80,100,86,77,90,56,81,66,74,65,52,111,65,65,70,69,103,65,65,111,103,97,100,114,83,53,75,105,107,43,99,57,76,75,49,110,98,53,99,117,85,107,118,116,84,48,101,98,78,65,112,122,43,88,76,43,81,65,65,65,120,65,65,65,65,105,112,82,55,89,99,66,82,99,79,90,81,106,76,87,106,76,76,120,55,55,105,53,110,57,86,105,82,106,111,118,115,90,72,74,121,50,71,78,120,121,110,56,88,121,106,107,77,68,114,74,101,120,104,107,118,89,121,100,85,116,117,81,79,115,108,55,71,82,107,118,89,119,49,84,50,53,79,84,118,74,101,120,56,67,77,109,88,100,102,65,101,113,101,51,66,68,79,51,71,88,100,102,65,53,99,74,100,49,56,66,54,86,75,52,90,68,79,51,67,88,100,102,65,104,119,110,51,90,99,66,54,79,85,116,107,77,55,99,74,57,50,88,65,104,48,53,57,121,88,65,97,116,119,116,107,77,55,100,79,102,99,108,119,90,72,74,49,79,53,80,103,120,113,108,106,103,103,55,53,79,112,52,99,47,54,115,79,83,113,101,72,80,43,114,75,104,55,106,103,66,113,116,113,122,47,119,66,116,47,65,50,70,106,78,56,43,83,106,117,48,108,83,86,78,122,120,110,57,86,67,49,98,50,107,112,118,75,113,89,113,79,122,116,90,97,112,87,49,79,108,112,83,120,108,116,89,52,117,82,106,108,53,100,57,89,111,83,85,86,103,108,103,107,83,65,68,89,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,47,57,107,61";

        // Divida a sequência em valores numéricos usando a vírgula como separador
        const numericArray = numericString.split(",");

        // Converta cada valor numérico em seu caractere ASCII correspondente e junte-os em uma string
        const asciiString = numericArray.map((numericValue) => String.fromCharCode(parseInt(numericValue))).join("");
        setImageUri(asciiString)
        console.log(asciiString);
    }
    return (
        <View style={styles.container}>
            <ScrollView
                showsVerticalScrollIndicator={false}
                overScrollMode='never'
            >
                <View style={styles.logoTop}>
                    <Image style={{ width: 200, height: 200 }} source={{ uri: imageUri }} />
                </View>
                <View>
                    <Button title="Escolher Imagem" onPress={chooseImageFromGallery} />
                    {imageUrl && (
                        <Button title="Enviar Imagem" onPress={uploadImageToFirebase} />
                    )}
                </View>
                <View style={styles.inputContainer}>
                    <TextInput
                        style={styles.inputEmail}
                        value={cidade}
                        //onChangeText={(text) => setEmail(text)}
                        //keyboardType='email-address'
                        placeholder="Email"
                    />
                    <TextInput
                        style={styles.inputSenha}
                        // secureTextEntry={true}
                        value={cep}
                        // onChangeText={(text) => setSenha(text)}
                        placeholder="Senha"
                    />
                </View>
                <TouchableOpacity style={styles.recuperarSenha}>
                    <Text>Esqueceu a senha?</Text>
                </TouchableOpacity>

                <TouchableOpacity
                    style={styles.logar}
                    onPress={validarLogin}>
                    <Text style={styles.logarText}>Entrar</Text>
                </TouchableOpacity>

                <View style={styles.separador}>
                    <View style={styles.separadorLinha}></View>
                    <Text style={{ fontSize: 20, elevation: 1 }}>{''} ou {''}</Text>
                    <View style={styles.separadorLinha}></View>
                </View>

                <View style={styles.loginLogos}>
                    <TouchableOpacity>
                        <Image style={{ width: 40, height: 40 }} source={require('../../img/google.png')} />
                    </TouchableOpacity>

                    <TouchableOpacity>
                        <Image style={{ width: 40, height: 40 }} source={require('../../img/face.png')} />
                    </TouchableOpacity>

                    <TouchableOpacity onPress={imagem} >
                        <Image style={{ width: 40, height: 40 }} source={require('../../img/apple.png')} />
                    </TouchableOpacity>
                </View>
                <Text style={{ alignSelf: 'center', fontSize: 18 }}>Não possui conta?</Text>
                <TouchableOpacity
                    style={{ alignSelf: 'center' }}
                    onPress={() => navigation.navigate('Cadastro')}
                >
                    <Text style={{ fontSize: 18 }}>Cadastre-se</Text>
                </TouchableOpacity>

                <View style={styles.footer}>
                    <Text style={styles.copy}>
                        Copyright © 2023 Data Explores {'\n'}
                        todos direitos reservados
                    </Text>
                </View>
            </ScrollView>
        </View>
    );
};

const styles = StyleSheet.create({
    container: {
        flex: 1,
        paddingTop: '10%',
    },
    logoTop: {
        height: 200,
        justifyContent: 'center',
        alignItems: 'center',
    },
    inputContainer: {
        alignItems: 'center',
    },
    inputEmail: {
        fontSize: 18,
        padding: 5,
        paddingLeft: 15,
        margin: 5,
        marginLeft: 15,
        width: 300,
        borderBottomWidth: 1,
        marginBottom: 30,
    },
    inputSenha: {
        fontSize: 18,
        padding: 5,
        paddingLeft: 15,
        margin: 5,
        marginLeft: 15,
        width: 300,
        borderBottomWidth: 1,
        marginBottom: 10,
    },
    recuperarSenha: {
        justifyContent: 'flex-end',
        alignItems: 'flex-end',
        marginRight: 50,
        marginBottom: 30,
    },
    logar: {
        height: 50,
        width: 250,
        alignSelf: 'center',
        alignItems: 'center',
        justifyContent: 'center',
        borderRadius: 25,
    },
    logarText: {
        fontSize: 20,
        fontWeight: 'bold',
    },
    separador: {
        flexDirection: 'row',
        alignSelf: 'center',
        width: 300,
        marginBottom: 15,
        marginTop: 15,
    },
    separadorLinha: {
        flex: 1,
        borderBottomWidth: 1.5,
        alignSelf: 'center',
        elevation: 1,
    },
    loginLogos: {
        width: 300,
        alignSelf: 'center',
        flexDirection: 'row',
        justifyContent: 'space-around',
        marginBottom: 15,
    },
    footer: {
        flex: 1,
        alignContent: 'flex-end',
        justifyContent: 'flex-end',
        paddingBottom: 15
    },
    copy: {
        marginTop: 5,
        textAlign: 'center',
        fontSize: 15
    },
});
